<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Node CSV File Upload</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <h2 class="mb-3"> Import CSV File</h2>
    <form action="/import-csv" method="post" enctype="multipart/form-data">
      <div class="mb-3">
        <input
          type="file"
          class="form-control"
          name="import-csv"
          accept="csv"
        />
      </div>
      <div class="d-grid">
        <input type="submit" class="btn btn-dark"   value="Upload File" />
      </div>
    </form>
    <!-- <form>
      <h2 class="mb-3">CSV Data Table</h2>
      <button id="add-button">Add Employee</button>
  <table class="table">
    <thead>
      <tr>
        <th>id</th>
        <th>Employee id</th>
        <th>Employee Name</th>
        <th>Employee Department</th>
        <th>Employee Email</th>
        <th>Employee salary</th>
        <th>Employee phoneno</th>
        <th>Update</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody id="data-table-body">
   
    </tbody>
  </table>
    </form>
  
  <div id="add-form" style="display: none;">
    <h2>Add Employee</h2>
    <form id="employee-form">
      <input type="text" name="empid" placeholder="Employee ID" required>
      <input type="text" name="Name" placeholder="Name" required>
      <input type="text" name="Department" placeholder="Department" required>
      <input type="text" name="Email" placeholder="Email" required>
      <input type="text" name="salary" placeholder="Salary" required>
      <input type="text" name="phoneno" placeholder="Phone Number" required>
      <button type="submit">Add</button>
    </form>
  </div> -->
  </body>
  <script>
    // // JavaScript code for populating the table with data fetched from the server
    // async function fetchDataAndPopulateTable() {
    //   const response = await fetch('/fetch-data'); // Assuming you have a route to fetch data
    //   const data = await response.json();

    //   const tbody = document.getElementById('data-table-body');

    //   data.forEach(row => {
    //     const tr = document.createElement('tr');
    //     Object.keys(row).forEach(key => {
    //       const td = document.createElement('td');
    //       td.textContent = row[key];
    //       tr.appendChild(td);
    //     });
    //     tbody.appendChild(tr);
    //   });
    // }

    // // Call the function to populate the table when the page loads
    // fetchDataAndPopulateTable();
  
    // // JavaScript code for handling the "Add" button and form display
    // const addForm = document.getElementById('add-form');
    // const addButton = document.getElementById('add-button');

    // addButton.addEventListener('click', () => {
    //   addForm.style.display = 'block';
    // });

    // // ... Your existing client-side JavaScript code for populating the table ...

    // // Handle form submission to add an employee
    // const employeeForm = document.getElementById('employee-form');
    // employeeForm.addEventListener('submit', async (e) => {
    //   e.preventDefault();
    //   const formData = new FormData(employeeForm);

    //   try {
    //     const response = await fetch('/add-employee', {
    //       method: 'POST',
    //       body: formData,
    //     });

    //     if (response.ok) {
    //       // Data added successfully, you can update the table here if needed
    //       // Hide the form
    //       addForm.style.display = 'none';
    //     } else {
    //       console.error('Error adding employee:', response.statusText);
    //     }
    //   } catch (error) {
    //     console.error('Error adding employee:', error);
    //   }
    // });
  </script>

</html>
